# 조기축구 팀 관리 시스템 - 프론트엔드 가이드

## 📋 목차

1. [프로젝트 개요](#프로젝트-개요)
2. [기술 스택](#기술-스택)
3. [프로젝트 구조](#프로젝트-구조)
4. [주요 기능](#주요-기능)
5. [사용 방법](#사용-방법)
6. [컴포넌트 설명](#컴포넌트-설명)
7. [API 연동](#api-연동)
8. [개발 가이드](#개발-가이드)

---

## 프로젝트 개요

조기축구 팀 관리를 위한 Next.js 기반 프론트엔드 애플리케이션입니다. 팀원 관리, 경기 일정, 참석 투표, 경기 결과 기록, 통계 등 조기축구 팀 운영에 필요한 기능을 제공합니다.

**백엔드 API**: `https://soccerportfolio.onrender.com`

---

## 기술 스택

- **Framework**: Next.js 14+ (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **State Management**: React Context API
- **HTTP Client**: Axios
- **Package Manager**: npm

---

## 프로젝트 구조

```
soccer-front/
├── app/                    # Next.js App Router 페이지
│   ├── (auth)/            # 인증 관련 페이지
│   │   ├── login/        # 로그인 페이지
│   │   └── signup/       # 회원가입 페이지
│   ├── dashboard/         # 대시보드 관련 페이지
│   │   ├── matches/      # 경기 관리
│   │   ├── rankings/     # 개인 랭크
│   │   └── team/         # 팀 구성
│   ├── team-select/      # 클럽 생성/가입 선택
│   └── layout.tsx        # 루트 레이아웃
├── components/            # React 컴포넌트
│   ├── common/          # 공통 컴포넌트
│   ├── auth/            # 인증 컴포넌트
│   ├── dashboard/       # 대시보드 컴포넌트
│   ├── matches/         # 경기 관련 컴포넌트
│   ├── rankings/        # 랭킹 컴포넌트
│   ├── team/            # 팀 관련 컴포넌트
│   └── layout/          # 레이아웃 컴포넌트
├── lib/                  # 유틸리티 및 설정
│   ├── api/            # API 클라이언트
│   ├── types/          # TypeScript 타입 정의
│   └── utils/          # 유틸리티 함수
└── public/             # 정적 파일
```

---

## 주요 기능

### ✅ 구현 완료

1. **인증 시스템**
   - 이메일/비밀번호 로그인
   - 회원가입
   - 카카오 로그인 (준비 중)
   - 로그인 상태 유지

2. **회원 정보 등록**
   - 이름, 생년월일, 연락처 입력
   - 포지션 다중 선택 (GK, DF, MF, FW)
   - 선수 설명 입력
   - 첫 로그인 시 자동 모달 표시

3. **클럽 관리**
   - 클럽 생성
   - 클럽 가입 (공개 팀 목록)
   - 클럽 선택 화면

4. **대시보드 - 요약 탭**
   - 다음 경기 정보
   - 팀 구성 요약
   - 팀 기록 통계 (경기별/게임별)
   - Top10 랭킹
   - 출석 관리 요약

5. **레이아웃 및 네비게이션**
   - 헤더 (사용자 정보, 로그아웃)
   - 탭 네비게이션 (요약, 경기, 개인, 팀 구성)

### ✅ 추가 완료

6. **경기 관리**
   - ✅ 경기 목록 (Year/Month 필터)
   - ✅ 경기 상세 보기
   - ✅ 참석 투표 시스템
   - ✅ 경기 기록 입력

### ✅ 추가 완료

7. **개인 랭크**
   - ✅ 참석 경기 랭킹
   - ✅ 출전 게임 랭킹
   - ✅ 득점 랭킹
   - ✅ 도움 랭킹

8. **팀 구성**
   - ✅ 팀원 목록
   - ✅ 포지션별 분류
   - ✅ 활동 상태 관리
   - ✅ 선수 상세 보기
   - ✅ 초대 링크 생성
   - ✅ 팀원 추가 (팀장/부팀장)
   - ✅ 팀원 정보 수정 (팀장/부팀장)
   - ✅ 팀원 삭제 (팀장/부팀장)

9. **경기 관리 추가 기능**
   - ✅ 경기 수정
   - ✅ 경기 삭제
   - ✅ 게임별 상세 기록 조회

10. **마이페이지**
    - ✅ 프로필 정보 조회
    - ✅ 팀 정보 조회
    - ✅ 프로필 수정 (준비 중)
    - ✅ 비밀번호 변경 (준비 중)

---

## 사용 방법

### 1. 로그인 및 회원가입

#### 로그인
1. `/login` 페이지 접속
2. 이메일과 비밀번호 입력
3. "로그인 상태 유지" 체크박스 선택 (선택사항)
4. 로그인 버튼 클릭

**테스트 계정**:
- 이메일: `test@test.com`
- 비밀번호: `test`

#### 회원가입
1. `/signup` 페이지 접속
2. 이메일, 이름, 비밀번호 입력
3. 비밀번호 확인 입력
4. 가입하기 버튼 클릭

### 2. 회원 정보 등록

로그인 후 대시보드에 처음 접속하면 자동으로 회원 정보 등록 모달이 표시됩니다.

**입력 항목**:
- 이름 (필수)
- 생년월일 (선택)
- 연락처 (선택)
- 포지션 (필수, 다중 선택 가능)
  - 골키퍼 (GK)
  - 수비수 (DF)
  - 미드필더 (MF)
  - 공격수 (FW)
- 요약/선수 설명 (선택)

### 3. 클럽 생성 또는 가입

회원 정보 등록 후, 팀에 소속되어 있지 않으면 클럽 선택 화면이 표시됩니다.

#### 클럽 생성
1. "클럽 생성" 카드 클릭
2. 클럽 이름 입력
3. 생성하기 버튼 클릭

#### 클럽 가입
1. "클럽 가입" 카드 클릭
2. 가입할 클럽 선택
3. 가입하기 버튼 클릭

### 4. 대시보드 사용

대시보드에는 4개의 탭이 있습니다:

#### 요약 탭 (`/dashboard`)
- **다음 경기**: 다가오는 경기 정보 및 내 참석 상태
- **팀 구성**: 총 인원 수 및 포지션별 인원
- **팀 기록**: 경기별/게임별 통계 및 총 득실
- **Top10**: 출전 수, 득점, 도움, 승률 랭킹
- **출석관리**: 참석, 지각, 무단 불참 인원

#### 경기 탭 (`/dashboard/matches`)
- **경기 목록**: Year/Month 필터로 경기 조회
- **경기 추가**: 팀장/부팀장만 경기 등록 가능
- **경기 상세**: 경기 정보, 게임별 상세, 참석 현황
- **참석 투표**: 참석/불참/미정 선택
- **경기 기록 입력**: 점수, 출전 멤버, 득점/어시스트 기록
- **경기 수정**: 경기 정보 수정 (날짜, 시간, 장소, 상대팀)
- **경기 삭제**: 경기 삭제 (팀장/부팀장만 가능)
- **게임별 상세**: 각 게임의 골, 도움, 교체 기록 조회

**경기 기록 입력 방법**:
1. 경기 상세 페이지에서 "기록 입력" 버튼 클릭
2. 게임별 점수 입력 (게임 추가 가능)
3. 각 게임별로 출전 멤버 체크
4. 출전 멤버별 득점/어시스트 입력
5. 회고 메모 작성 (선택)
6. 저장하기 버튼 클릭

#### 개인 랭크 탭 (`/dashboard/rankings`)
- **탭 전환**: 참석 경기, 출전 게임, 득점, 도움 랭킹 확인
- **Top 5 표시**: 각 카테고리별 상위 5명 표시
- **랭킹 아이콘**: 1등(🥇), 2등(🥈), 3등(🥉) 표시

#### 팀 구성 탭 (`/dashboard/team`)
- **팀 구성 통계**: 총 인원, 평균 연령, 평균 참석률
- **필터링**: 포지션별, 활동 상태별 필터
- **팀원 목록**: 등번호, 이름, 활동 상태, 포지션, 나이, 연락처 표시
- **선수 상세**: 선수 클릭 시 개인 기록 모달 표시 (API 연동)
- **초대 링크**: 초대 링크 생성 및 복사
- **팀원 추가**: 팀장/부팀장만 팀원 추가 가능 (사용자 ID 입력)
- **팀원 수정**: 팀원 정보 수정 (팀장/부팀장만 가능)
- **팀원 삭제**: 팀원 삭제 (팀장/부팀장만 가능, 팀장은 삭제 불가)

---

## 컴포넌트 설명

### 공통 컴포넌트

#### Button
재사용 가능한 버튼 컴포넌트

```tsx
<Button variant="primary" size="md" onClick={handleClick}>
  클릭
</Button>
```

**Props**:
- `variant`: 'primary' | 'secondary' | 'outline' | 'danger'
- `size`: 'sm' | 'md' | 'lg'
- `isLoading`: 로딩 상태 표시

#### Input
입력 필드 컴포넌트

```tsx
<Input
  type="email"
  label="이메일"
  placeholder="이메일을 입력하세요"
  value={email}
  onChange={(e) => setEmail(e.target.value)}
/>
```

#### Modal
모달 컴포넌트

```tsx
<Modal
  isOpen={isOpen}
  onClose={handleClose}
  title="제목"
  size="md"
>
  내용
</Modal>
```

### 인증 컴포넌트

#### LoginForm
로그인 폼 컴포넌트
- 이메일/비밀번호 입력
- 로그인 상태 유지 체크박스
- 카카오 로그인 버튼 (준비 중)

#### SignupForm
회원가입 폼 컴포넌트
- 이메일, 이름, 비밀번호 입력
- 비밀번호 확인
- 유효성 검사

#### ProfileRegistrationModal
회원 정보 등록 모달
- 첫 로그인 시 자동 표시
- 필수 정보 입력 유도

### 대시보드 컴포넌트

#### SummaryTab
요약 탭 컨테이너
- 다음 경기, 팀 구성, 팀 기록, Top10, 출석관리를 통합 표시

#### NextMatchCard
다음 경기 정보 카드
- 날짜, 시간, 상대팀, 장소
- 내 참석 상태 표시

#### TeamStatsCard
팀 기록 통계 카드
- 경기별 통계
- 게임별 통계
- 총 득실

#### Top10List
Top10 랭킹 리스트
- 출전 수, 득점, 도움, 승률 랭킹 표시

#### AttendanceSummary
출석 관리 요약
- 참석, 지각, 무단 불참 인원 및 비율 표시

### 경기 관련 컴포넌트

#### MatchList
경기 목록 컨테이너
- Year/Month 필터 적용
- 경기 목록 표시
- 경기 추가 버튼 (팀장/부팀장만)

#### MatchDetail
경기 상세 컨테이너
- 경기 정보 표시
- 참석 투표 컴포넌트
- 참석 현황 표시
- 게임별 상세 표시

#### AttendanceVote
참석 투표 컴포넌트
- 참석/불참/미정 선택
- 실시간 투표 상태 업데이트

#### MatchRecordForm
경기 기록 입력 폼
- 게임별 점수 입력
- 출전 멤버 체크
- 선수별 득점/어시스트 입력
- 회고 메모 작성

### 랭킹 컴포넌트

#### RankingTabs
랭킹 탭 전환 컴포넌트
- 참석 경기, 출전 게임, 득점, 도움 탭 전환
- 각 탭별 Top 5 표시

#### RankingCard
랭킹 카드 컴포넌트
- 순위, 이름, 값 표시
- 1등(🥇), 2등(🥈), 3등(🥉) 아이콘

### 팀 관련 컴포넌트

#### TeamMembers
팀원 목록 컨테이너
- 팀 구성 통계 표시
- 필터링 기능
- 팀원 목록 표시
- 초대 링크 생성
- 선수 등록

#### MemberCard
팀원 카드 컴포넌트
- 등번호, 이름, 활동 상태 표시
- 포지션, 나이, 연락처 표시
- 클릭 시 상세 모달 표시

#### InviteLinkModal
초대 링크 생성 모달
- 초대 링크 생성
- 링크 복사 기능

---

## API 연동

### API 클라이언트 설정

모든 API 호출은 `lib/api/client.ts`에서 설정된 Axios 인스턴스를 사용합니다.

**기능**:
- 자동 토큰 추가 (localStorage에서)
- 에러 인터셉터 (401 에러 시 로그인 페이지로 리다이렉트)
- 쿠키 자동 포함

### API 모듈

#### auth.api.ts
- `login()`: 로그인
- `signup()`: 회원가입
- `logout()`: 로그아웃
- `socialLogin()`: 소셜 로그인

#### users.api.ts
- `createProfile()`: 회원 정보 등록
- `updateProfile()`: 회원 정보 수정
- `getProfile()`: 회원 정보 조회

#### teams.api.ts
- `createTeam()`: 클럽 생성
- `getPublicTeams()`: 공개 팀 목록 조회
- `joinTeam()`: 클럽 가입
- `getTeamStats()`: 팀 구성 통계
- `createInviteLink()`: 초대 링크 생성
- `getTeamMembers()`: 팀원 목록 조회

#### dashboard.api.ts
- `getSummary()`: 대시보드 요약 데이터 조회

#### statistics.api.ts
- `getTeamStats()`: 팀 기록 통계
- `getTop10()`: Top10 랭킹

#### attendance.api.ts
- `getSummary()`: 출석 관리 요약

#### rankings.api.ts
- `getRankings()`: 개인 랭킹 조회
- `getAttendanceRankings()`: 참석 경기 랭킹
- `getGameRankings()`: 출전 게임 랭킹
- `getGoalRankings()`: 득점 랭킹
- `getAssistRankings()`: 도움 랭킹

#### users.api.ts (추가)
- `changePassword()`: 비밀번호 변경
- `uploadProfileImage()`: 프로필 이미지 업로드
- `deleteAccount()`: 계정 삭제

#### teams.api.ts (추가)
- `getTeamMember()`: 특정 팀원 상세 조회
- `addMember()`: 팀원 추가
- `updateMember()`: 팀원 정보 수정
- `deleteMember()`: 팀원 삭제

#### matches.api.ts (추가)
- `updateMatch()`: 경기 정보 수정
- `deleteMatch()`: 경기 삭제
- `getMatchGames()`: 게임별 상세 기록 조회

---

## 개발 가이드

### 개발 원칙

1. **컴포넌트화**: 모든 UI 요소를 재사용 가능한 컴포넌트로 분리
2. **가독성**: 명확한 변수명, 함수명, 주석 사용
3. **리팩토링**: 코드 중복 최소화, DRY 원칙 준수
4. **깔끔한 page.tsx**: page.tsx는 최소한의 로직만 포함, 대부분의 로직은 컴포넌트로 분리
5. **타입 안정성**: TypeScript를 적극 활용하여 타입 안정성 확보

### 컴포넌트 작성 규칙

1. **파일명**: PascalCase 사용 (예: `LoginForm.tsx`)
2. **컴포넌트명**: 파일명과 동일하게 작성
3. **Props 타입**: 인터페이스로 명시
4. **'use client'**: 클라이언트 컴포넌트는 반드시 상단에 명시

### API 호출 패턴

```tsx
'use client';

import { useEffect, useState } from 'react';
import { someApi } from '@/lib/api/some.api';

export default function SomeComponent() {
  const [data, setData] = useState(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState('');

  useEffect(() => {
    const fetchData = async () => {
      try {
        const result = await someApi.getData();
        setData(result);
      } catch (err: any) {
        setError('데이터를 불러오는데 실패했습니다.');
      } finally {
        setIsLoading(false);
      }
    };

    fetchData();
  }, []);

  if (isLoading) return <Loading />;
  if (error) return <div>{error}</div>;
  if (!data) return <div>데이터가 없습니다.</div>;

  return <div>{/* 컴포넌트 내용 */}</div>;
}
```

### 환경 변수

`.env.local` 파일에 다음 변수를 설정:

```env
NEXT_PUBLIC_API_URL=https://soccerportfolio.onrender.com
NEXT_PUBLIC_ENV=development
```

---

## 시작하기

### 설치

```bash
cd soccer-front
npm install
```

### 개발 서버 실행

```bash
npm run dev
```

브라우저에서 [http://localhost:3000](http://localhost:3000)을 열어 확인하세요.

### 빌드

```bash
npm run build
npm start
```

---

## 업데이트 내역

### 2024-01-XX (최종)
- ✅ 프로젝트 초기 설정
- ✅ 인증 시스템 (로그인/회원가입)
- ✅ 회원 정보 등록 모달
- ✅ 클럽 생성/가입 선택 페이지
- ✅ 대시보드 레이아웃 및 탭 네비게이션
- ✅ 요약 탭 구현
- ✅ 경기 관리 (목록, 상세, 참석 투표, 기록 입력)
- ✅ 개인 랭크 페이지
- ✅ 팀 구성 페이지

### 주요 기능 완료
모든 핵심 기능이 구현 완료되었습니다. 백엔드 API와 연동하여 실제 데이터를 표시할 수 있습니다.

---

## 구현 완료 기능 요약

### ✅ 완료된 모든 기능

1. **인증 시스템**
   - 이메일/비밀번호 로그인
   - 회원가입
   - 로그인 상태 유지
   - 인증 가드 및 리다이렉트

2. **회원 정보 관리**
   - 회원 정보 등록 (이름, 생년월일, 연락처, 포지션, 요약)
   - 첫 로그인 시 자동 모달 표시
   - 포지션 다중 선택

3. **클럽 관리**
   - 클럽 생성
   - 클럽 가입 (공개 팀 목록)
   - 클럽 선택 UI

4. **대시보드 - 요약 탭**
   - 다음 경기 정보
   - 팀 구성 요약
   - 팀 기록 통계 (경기별/게임별/총 득실)
   - Top10 랭킹 (출전 수, 득점, 도움, 승률)
   - 출석 관리 요약

5. **경기 관리**
   - 경기 목록 (Year/Month 필터)
   - 경기 등록 (팀장/부팀장만)
   - 경기 상세 보기
   - 게임별 상세 (펼침/접힘)
   - 참석 투표 시스템 (참석/불참/미정)
   - 참석 현황 표시
   - 경기 기록 입력 (게임별 점수, 출전 멤버, 득점/어시스트)

6. **개인 랭크**
   - 참석 경기 랭킹
   - 출전 게임 랭킹
   - 득점 랭킹
   - 도움 랭킹
   - 탭 전환으로 각 랭킹 확인

7. **팀 구성**
   - 팀 구성 통계 (총 인원, 평균 연령, 평균 참석률)
   - 포지션별 필터
   - 활동 상태 필터
   - 팀원 목록 (등번호, 이름, 상태, 포지션, 나이, 연락처)
   - 선수 상세 보기 (개인 기록)
   - 초대 링크 생성 및 복사
   - 선수 등록 (팀장/부팀장만)

8. **레이아웃 및 네비게이션**
   - 헤더 (사용자 정보, 로그아웃)
   - 탭 네비게이션 (요약, 경기, 개인, 팀 구성)
   - 반응형 디자인

## 주요 특징

### 컴포넌트화
- 모든 UI 요소를 재사용 가능한 컴포넌트로 분리
- page.tsx는 최소한의 로직만 포함
- 비즈니스 로직은 컴포넌트나 훅으로 분리

### 타입 안정성
- TypeScript를 적극 활용
- 모든 API 응답에 타입 정의
- Props 타입 명시

### 사용자 경험
- 로딩 상태 표시
- 에러 메시지 표시
- 직관적인 UI/UX
- 모바일 반응형 디자인

## 다음 단계 (선택 기능)

- [ ] 카카오 로그인 구현
- [ ] 경기 공유 기능 (카카오톡)
- [ ] 알림 시스템
- [ ] 경기 사진 업로드
- [ ] 아이디·비밀번호 찾기

## 문의 및 지원

프로젝트 관련 문의사항이 있으시면 이슈를 등록해주세요.

